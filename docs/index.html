<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MentorIA</title>
    <link rel="icon" type="image/png" href="images/little_logo_ferrer.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="top-header">
        <div class="left-section">
            <img src="./images/logo.png" alt="Logo MentorIA" class="logo-img">
            <span class="app-name">MentorIA</span>
        </div>
        
        <div class="right-section">
            <div class="user-toggle">
                <span class="toggle-label">Alumno</span>
                <label class="switch">
                    <input type="checkbox" id="userToggle" onchange="toggleUser()">
                    <span class="slider-toggle"></span>
                </label>
                <span class="toggle-label">Profesor</span>
            </div>
        </div>
    </header>
    
    <div class="container">
        <div class="welcome-screen" id="welcomeScreen">
            <div class="welcome-content">
                <h2>Bienvenido al Sistema Educativo</h2>
                <p>Por favor, selecciona tu tipo de usuario en el panel superior</p>
                <div class="illustration">üìö</div>
            </div>
        </div>
        
        <div class="dashboard" id="dashboard" style="display: none;">
            <div class="welcome-banner">
                <h1 id="welcomeMessage"></h1>
            </div>
            
            <div class="integrated-panel" id="integratedPanel" style="display: none;">
                <div class="tabs">
                    <button class="tab-button active" onclick="selectTab('perfil')">Perfil</button>
                    <button class="tab-button" onclick="selectTab('contenido')">Contenido</button>
                    <button class="tab-button" onclick="selectTab('salidas')">Salidas Profesionales</button>
                </div>
                
                <div class="tab-content-area">
                    <div class="tab-panel" id="perfilContent">
                        <h3>Mi Perfil</h3>
                        <p class="tab-description">Gestiona tu informaci√≥n personal y preferencias.</p>
                        
                        <div class="profile-container">
                            <div class="profile-fields">
                                <div class="profile-row">
                                    <div class="profile-field">
                                        <label>Nombre</label>
                                        <div class="field-row">
                                            <div class="field-value" id="nombreValue">Rafa</div>
                                            <button class="edit-btn" onclick="openEditModal('nombre')" title="Editar">‚úèÔ∏è</button>
                                        </div>
                                    </div>
                                    
                                    <div class="profile-field">
                                        <label>Apellidos</label>
                                        <div class="field-row">
                                            <div class="field-value" id="apellidosValue">Armero Fern√°ndez</div>
                                            <button class="edit-btn" onclick="openEditModal('apellidos')" title="Editar">‚úèÔ∏è</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="profile-field">
                                    <label>Localidad</label>
                                    <div class="field-row">
                                        <div class="field-value" id="localidadValue">Puerto de Sagunto</div>
                                        <button class="edit-btn" onclick="openEditModal('localidad')" title="Editar">‚úèÔ∏è</button>
                                    </div>
                                </div>
                                
                                <div class="profile-row">
                                    <div class="profile-field">
                                        <label>Instituto</label>
                                        <div class="field-row">
                                            <div class="field-value" id="institutoValue">IES Jorge Juan</div>
                                            <button class="edit-btn" onclick="openEditModal('instituto')" title="Editar">‚úèÔ∏è</button>
                                        </div>
                                    </div>
                                    
                                    <div class="profile-field">
                                        <label>Curso Acad√©mico</label>
                                        <div class="field-row">
                                            <select id="cursoSelect" class="curso-select" onchange="saveCurso()">
                                                <option value="1¬∫ ESO">1¬∫ ESO</option>
                                                <option value="2¬∫ ESO" selected>2¬∫ ESO</option>
                                                <option value="3¬∫ ESO">3¬∫ ESO</option>
                                                <option value="4¬∫ ESO">4¬∫ ESO</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="profile-field">
                                    <label>Intereses</label>
                                    <div class="field-row">
                                        <div class="field-value" id="interesesValue">Bicicletas, Pesca, Tecnolog√≠a</div>
                                        <button class="edit-btn" onclick="openEditModal('intereses')" title="Editar">‚úèÔ∏è</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="profile-photo-section">
                                <div class="photo-container">
                                    <img id="profilePhoto" src="./images/foto_alumno.png" alt="Foto de perfil">
                                    <div class="photo-overlay" onclick="document.getElementById('photoInput').click()">
                                        <span>üì∑ Cambiar foto</span>
                                    </div>
                                </div>
                                <input type="file" id="photoInput" accept="image/*" style="display: none;" onchange="loadPhoto(event)">
                                
                                <p class="photo-hint">Haz clic para subir tu foto de perfil</p>
                                
                                <div class="transport-row">
                                    <label>Transporte Propio</label>
                                    <label class="switch-transport">
                                        <input type="checkbox" id="transporteSwitch" onchange="toggleTransporte()">
                                        <span class="slider-transport"></span>
                                    </label>
                                    <span class="transport-label" id="transporteLabel">No</span>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn-save-profile" onclick="saveProfile()">üíæ Guardar cambios</button>
                    </div>
                    <div class="tab-panel" id="contenidoContent" style="display: none;">
                        <h3>Contenido Formativo</h3>
                        <p class="tab-description">Accede a todos tus cursos, materiales de estudio y recursos de aprendizaje.</p>
                        
                        <div class="subjects-grid">
                            <!-- Biolog√≠a -->
                            <div class="subject-card">
                                <div class="subject-icon">üß¨</div>
                                <div class="subject-info">
                                    <h4 class="subject-title">Biolog√≠a</h4>
                                    <button class="subject-docs-btn" onclick="openSubject('biologia')">
                                        <span class="docs-count">1</span> unidad
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Matem√°ticas -->
                            <div class="subject-card">
                                <div class="subject-icon">üìê</div>
                                <div class="subject-info">
                                    <h4 class="subject-title">Matem√°ticas</h4>
                                    <button class="subject-docs-btn no-content" disabled>
                                        <span class="docs-count">0</span> unidades
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Tecnolog√≠a -->
                            <div class="subject-card">
                                <div class="subject-icon">üõ†Ô∏è</div>
                                <div class="subject-info">
                                    <h4 class="subject-title">Tecnolog√≠a</h4>
                                    <button class="subject-docs-btn no-content" disabled>
                                        <span class="docs-count">0</span> unidades
                                    </button>
                                </div>
                            </div>
                            
                            <!-- F√≠sica -->
                            <div class="subject-card">
                                <div class="subject-icon">‚öõÔ∏è</div>
                                <div class="subject-info">
                                    <h4 class="subject-title">F√≠sica</h4>
                                    <button class="subject-docs-btn no-content" disabled>
                                        <span class="docs-count">0</span> unidades
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Qu√≠mica -->
                            <div class="subject-card">
                                <div class="subject-icon">üß™</div>
                                <div class="subject-info">
                                    <h4 class="subject-title">Qu√≠mica</h4>
                                    <button class="subject-docs-btn no-content" disabled>
                                        <span class="docs-count">0</span> unidades
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Educaci√≥n F√≠sica -->
                            <div class="subject-card">
                                <div class="subject-icon">‚öΩ</div>
                                <div class="subject-info">
                                    <h4 class="subject-title">Educaci√≥n F√≠sica</h4>
                                    <button class="subject-docs-btn no-content" disabled>
                                        <span class="docs-count">0</span> unidades
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Castellano -->
                            <div class="subject-card">
                                <div class="subject-icon">üìñ</div>
                                <div class="subject-info">
                                    <h4 class="subject-title">Castellano</h4>
                                    <button class="subject-docs-btn no-content" disabled>
                                        <span class="docs-count">0</span> unidades
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Ingl√©s -->
                            <div class="subject-card">
                                <div class="subject-icon">üíÇüèº</div>
                                <div class="subject-info">
                                    <h4 class="subject-title">Ingl√©s</h4>
                                    <button class="subject-docs-btn no-content" disabled>
                                        <span class="docs-count">0</span> unidades
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-panel" id="salidasContent" style="display: none;">
                        <h3>Salidas Profesionales</h3>
                        <p class="tab-description">Explora las oportunidades profesionales y carreras relacionadas con tu formaci√≥n.</p>
                        
                        <div class="career-blocks">
                            <!-- Bloque 1 -->
                            <div class="career-block">
                                <div class="career-medal gold">ü•á</div>
                                <div class="career-image">
                                    <img src="images/foto_alumno_electricidad.png" alt="Electricidad y Electr√≥nica">
                                    <span class="favorite-star">‚≠ê</span>
                                    <button class="btn-favorite active" onclick="marcarFavorito(this, 'Electricidad y Electr√≥nica', 'BOT√ÄNIC CAVANILLES')">
                                        ‚≠ê
                                    </button>
                                </div>
                                <div class="career-content">
                                    <h4 class="career-title">Electricidad y Electr√≥nica</h4>
                                    <p class="career-subtitle">Instituto de Educaci√≥n Secundaria BOT√ÄNIC CAVANILLES | Vall d'Uix√≥</p>
                                    <div class="career-kpis">
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöå</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte p√∫blico</div>
                                                <div class="kpi-value">25 min</div>
                                            </div>
                                        </div>
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöó</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte privado</div>
                                                <div class="kpi-value">12 min</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="career-buttons">
                                        <a href="#" class="career-btn" onclick="openCareerLink('software', 'perfiles'); return false;">üë• Perfiles profesionales</a>
                                        <a href="#" class="career-btn" onclick="openCareerLink('software', 'curriculo'); return false;">üìã Curr√≠culo</a>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Bloque 2 -->
                            <div class="career-block">
                                <div class="career-medal silver">ü•à</div>
                                <div class="career-image">
                                    <img src="images/foto_alumno_electricidad.png" alt="Electricidad y Electr√≥nica">
                                    <span class="favorite-star">‚≠ê</span>
                                    <button class="btn-favorite" onclick="marcarFavorito(this, 'Electricidad y Electr√≥nica', 'GILABERT DE CENTELLES')">
                                    </button>
                                </div>
                                <div class="career-content">
                                    <h4 class="career-title">Electricidad y Electr√≥nica</h4>
                                    <p class="career-subtitle">Instituto de Educaci√≥n Secundaria GILABERT DE CENTELLES | Nules</p>
                                    <div class="career-kpis">
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöå</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte p√∫blico</div>
                                                <div class="kpi-value">18 min</div>
                                            </div>
                                        </div>
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöó</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte privado</div>
                                                <div class="kpi-value">9 min</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="career-buttons">
                                        <a href="#" class="career-btn" onclick="openCareerLink('laboratorio', 'perfiles'); return false;">üë• Perfiles profesionales</a>
                                        <a href="#" class="career-btn" onclick="openCareerLink('laboratorio', 'curriculo'); return false;">üìã Curr√≠culo</a>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Bloque 3 -->
                            <div class="career-block">
                                <div class="career-medal bronze">ü•â</div>
                                <div class="career-image">
                                    <img src="images/foto_alumno_electricidad.png" alt="Electricidad y Electr√≥nica">
                                    <span class="favorite-star">‚≠ê</span>
                                    <button class="btn-favorite" onclick="marcarFavorito(this, 'Electricidad y Electr√≥nica', 'LA PATACONA')">
                                    </button>
                                </div>
                                <div class="career-content">
                                    <h4 class="career-title">Electricidad y Electr√≥nica</h4>
                                    <p class="career-subtitle">Instituto de Educaci√≥n Secundaria LA PATACONA | Alboraia/Alboraya</p>
                                    <div class="career-kpis">
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöå</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte p√∫blico</div>
                                                <div class="kpi-value">15 min</div>
                                            </div>
                                        </div>
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöó</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte privado</div>
                                                <div class="kpi-value">7 min</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="career-buttons">
                                        <a href="#" class="career-btn" onclick="openCareerLink('profesor', 'perfiles'); return false;">üë• Perfiles profesionales</a>
                                        <a href="#" class="career-btn" onclick="openCareerLink('profesor', 'curriculo'); return false;">üìã Curr√≠culo</a>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Bloque 4 -->
                            <div class="career-block">
                                <div class="career-image">
                                    <img src="images/foto_alumno_electricidad.png" alt="Electricidad y Electr√≥nica">
                                    <span class="favorite-star">‚≠ê</span>
                                    <button class="btn-favorite" onclick="marcarFavorito(this, 'Electricidad y Electr√≥nica', 'Massamagrell')">
                                    </button>
                                </div>
                                <div class="career-content">
                                    <h4 class="career-title">Electricidad y Electr√≥nica</h4>
                                    <p class="career-subtitle">Instituto de Educaci√≥n Secundaria | Massamagrell</p>
                                    <div class="career-kpis">
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöå</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte p√∫blico</div>
                                                <div class="kpi-value">30 min</div>
                                            </div>
                                        </div>
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöó</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte privado</div>
                                                <div class="kpi-value">15 min</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="career-buttons">
                                        <a href="#" class="career-btn" onclick="openCareerLink('disenador', 'perfiles'); return false;">üë• Perfiles profesionales</a>
                                        <a href="#" class="career-btn" onclick="openCareerLink('disenador', 'curriculo'); return false;">üìã Curr√≠culo</a>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Bloque 5 -->
                            <!-- Bloque 5 -->
                            <div class="career-block">
                                <div class="career-image">
                                    <img src="images/foto_alumno_electricidad.png" alt="Electricidad y Electr√≥nica">
                                    <span class="favorite-star">‚≠ê</span>
                                    <button class="btn-favorite" onclick="marcarFavorito(this, 'Electricidad y Electr√≥nica', 'CLOT DEL MORO')">
                                    </button>
                                </div>
                                <div class="career-content">
                                    <h4 class="career-title">Electricidad y Electr√≥nica</h4>
                                    <p class="career-subtitle">Instituto de Educaci√≥n Secundaria CLOT DEL MORO | Sagunto/Sagunt</p>
                                    <div class="career-kpis">
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöå</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte p√∫blico</div>
                                                <div class="kpi-value">22 min</div>
                                            </div>
                                        </div>
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöó</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte privado</div>
                                                <div class="kpi-value">10 min</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="career-buttons">
                                        <a href="#" class="career-btn" onclick="openCareerLink('arquitecto', 'perfiles'); return false;">üë• Perfiles profesionales</a>
                                        <a href="#" class="career-btn" onclick="openCareerLink('arquitecto', 'curriculo'); return false;">üìã Curr√≠culo</a>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Bloque 6 -->
                            <div class="career-block">
                                <div class="career-image">
                                    <img src="images/foto_alumno_informatica.png" alt="Inform√°tica de Oficina">
                                    <span class="favorite-star">‚≠ê</span>
                                    <button class="btn-favorite" onclick="marcarFavorito(this, 'Inform√°tica de Oficina', 'El Puig de Santa Maria')">
                                    </button>
                                </div>
                                <div class="career-content">
                                    <h4 class="career-title">Inform√°tica de Oficina</h4>
                                    <p class="career-subtitle">Instituto de Educaci√≥n Secundaria | El Puig de Santa Maria</p>
                                    <div class="career-kpis">
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöå</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte p√∫blico</div>
                                                <div class="kpi-value">20 min</div>
                                            </div>
                                        </div>
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöó</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte privado</div>
                                                <div class="kpi-value">11 min</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="career-buttons">
                                        <a href="#" class="career-btn" onclick="openCareerLink('informatica1', 'perfiles'); return false;">üë• Perfiles profesionales</a>
                                        <a href="#" class="career-btn" onclick="openCareerLink('informatica1', 'curriculo'); return false;">üìã Curr√≠culo</a>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Bloque 7 -->
                            <!-- Bloque 7 -->
                            <div class="career-block">
                                <div class="career-image">
                                    <img src="images/foto_alumno_informatica.png" alt="Inform√°tica de Oficina">
                                    <span class="favorite-star">‚≠ê</span>
                                    <button class="btn-favorite" onclick="marcarFavorito(this, 'Inform√°tica de Oficina', 'ESCULTOR EN FRANCESC BADIA')">
                                    </button>
                                </div>
                                <div class="career-content">
                                    <h4 class="career-title">Inform√°tica de Oficina</h4>
                                    <p class="career-subtitle">Instituto de Educaci√≥n Secundaria ESCULTOR EN FRANCESC BADIA | Foios</p>
                                    <div class="career-kpis">
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöå</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte p√∫blico</div>
                                                <div class="kpi-value">28 min</div>
                                            </div>
                                        </div>
                                        <div class="kpi-item">
                                            <span class="kpi-icon">üöó</span>
                                            <div class="kpi-info">
                                                <div class="kpi-label">Transporte privado</div>
                                                <div class="kpi-value">14 min</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="career-buttons">
                                        <a href="#" class="career-btn" onclick="openCareerLink('informatica2', 'perfiles'); return false;">üë• Perfiles profesionales</a>
                                        <a href="#" class="career-btn" onclick="openCareerLink('informatica2', 'curriculo'); return false;">üìã Curr√≠culo</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="content">
                <!-- Panel Integrado del Profesor -->
                <div class="integrated-panel" id="teacherIntegratedPanel" style="display: none;">
                    <div class="tabs">
                        <button class="tab-button active" onclick="selectTabTeacher('perfil')">Perfil</button>
                        <button class="tab-button" onclick="selectTabTeacher('contenido')">Contenido</button>
                        <button class="tab-button" onclick="selectTabTeacher('seguimiento')">Seguimiento</button>
                    </div>
                    
                    <div class="tab-content-area">
                        <!-- Tab 1: Perfil del Profesor -->
                        <div class="tab-panel" id="teacherPerfilContent">
                            <h3>Mi Perfil</h3>
                            <p class="tab-description">Gestiona tu informaci√≥n personal y preferencias.</p>
                            
                            <div class="profile-container">
                                <div class="profile-fields">
                                    <div class="profile-row">
                                        <div class="profile-field">
                                            <label>Nombre</label>
                                            <div class="field-row">
                                                <div class="field-value" id="teacher_nombreValue">Rafael</div>
                                                <button class="edit-btn" onclick="openEditModalTeacher('nombre')" title="Editar">‚úèÔ∏è</button>
                                            </div>
                                        </div>
                                        
                                        <div class="profile-field">
                                            <label>Apellidos</label>
                                            <div class="field-row">
                                                <div class="field-value" id="teacher_apellidosValue">Armero Fern√°ndez</div>
                                                <button class="edit-btn" onclick="openEditModalTeacher('apellidos')" title="Editar">‚úèÔ∏è</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="profile-field">
                                        <label>Localidad</label>
                                        <div class="field-row">
                                            <div class="field-value" id="teacher_localidadValue">Canet d'en Berenguer</div>
                                            <button class="edit-btn" onclick="openEditModalTeacher('localidad')" title="Editar">‚úèÔ∏è</button>
                                        </div>
                                    </div>
                                    
                                    <div class="profile-row">
                                        <div class="profile-field">
                                            <label>Instituto</label>
                                            <div class="field-row">
                                                <div class="field-value" id="teacher_institutoValue">IES Jorge Juan</div>
                                                <button class="edit-btn" onclick="openEditModalTeacher('instituto')" title="Editar">‚úèÔ∏è</button>
                                            </div>
                                        </div>
                                        
                                        <div class="profile-field">
                                            <label>Asignatura</label>
                                            <div class="field-row">
                                                <select id="teacher_asignaturaSelect" class="curso-select" onchange="saveAsignaturaTeacher()">
                                                    <option value="Biolog√≠a" selected>Biolog√≠a</option>
                                                    <option value="Matem√°ticas">Matem√°ticas</option>
                                                    <option value="Tecnolog√≠a">Tecnolog√≠a</option>
                                                    <option value="F√≠sica y Qu√≠mica">F√≠sica y Qu√≠mica</option>
                                                    <option value="Qu√≠mica">Qu√≠mica</option>
                                                    <option value="Educaci√≥n F√≠sica">Educaci√≥n F√≠sica</option>
                                                    <option value="Lengua y Literatura">Lengua y Literatura</option>
                                                    <option value="Historia">Historia</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="profile-field">
                                        <label>CURSOS</label>
                                        <div class="field-row">
                                            <div class="courses-checkboxes">
                                                <label class="checkbox-label">
                                                    <input type="checkbox" id="curso_1eso" value="1¬∫ ESO" onchange="saveCursosTeacher()">
                                                    <span>1¬∫ ESO</span>
                                                </label>
                                                <label class="checkbox-label">
                                                    <input type="checkbox" id="curso_2eso" value="2¬∫ ESO" onchange="saveCursosTeacher()" checked>
                                                    <span>2¬∫ ESO</span>
                                                </label>
                                                <label class="checkbox-label">
                                                    <input type="checkbox" id="curso_3eso" value="3¬∫ ESO" onchange="saveCursosTeacher()">
                                                    <span>3¬∫ ESO</span>
                                                </label>
                                                <label class="checkbox-label">
                                                    <input type="checkbox" id="curso_4eso" value="4¬∫ ESO" onchange="saveCursosTeacher()">
                                                    <span>4¬∫ ESO</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="profile-photo-section">
                                    <div class="photo-container">
                                        <img id="teacher_profilePhoto" src="./images/foto_profesor.png" alt="Foto de perfil">
                                        <div class="photo-overlay" onclick="document.getElementById('teacher_photoInput').click()">
                                            <span>üì∑ Cambiar foto</span>
                                        </div>
                                    </div>
                                    <input type="file" id="teacher_photoInput" accept="image/*" style="display: none;" onchange="loadPhotoTeacher(event)">
                                    
                                    <p class="photo-hint">Haz clic para subir tu foto de perfil</p>
                                </div>
                            </div>
                            
                            <button class="btn-save-profile" onclick="saveProfileTeacher()">üíæ Guardar cambios</button>
                        </div>
                        
                        <!-- Tab 2: Contenido del Profesor -->
                        <div class="tab-panel" id="teacherContenidoContent" style="display: none;">
                            <h3>Contenido Formativo</h3>
                            <p class="tab-description">Gestiona los contenidos y materiales de tus asignaturas.</p>
                            
                            <!-- Formulario para a√±adir contenido -->
                            <div class="content-form">
                                <!-- Unidad separada -->
                                <div class="unidad-section">
                                    <div class="form-row-full">
                                        <label for="unidad-input">UNIDAD</label>
                                        <input type="text" id="unidad-input" placeholder="Ej: Animales vertebrados" class="input-field">
                                    </div>
                                </div>
                                
                                <!-- Cap√≠tulo, Secci√≥n y bot√≥n agrupados -->
                                <div class="capitulo-seccion-section">
                                    <div class="form-row-horizontal">
                                        <div class="form-group-half">
                                            <label for="capitulo-input">CAP√çTULO</label>
                                            <input type="text" id="capitulo-input" placeholder="Ej: Mam√≠feros" class="input-field">
                                        </div>
                                        <div class="form-group-half">
                                            <label for="seccion-input">SECCI√ìN</label>
                                            <input type="text" id="seccion-input" placeholder="Ej: Caracter√≠sticas" class="input-field">
                                        </div>
                                        <button class="btn-add-content" onclick="addContentRow()">
                                            ‚ûï A√±adir
                                        </button>
                                    </div>
                                    
                                    <div class="form-row-full">
                                        <label for="descriptivo-input">CONTENIDO</label>
                                        <textarea id="descriptivo-input" placeholder="Ej: Tipos de mam√≠feros y sus caracter√≠sticas principales" class="input-field textarea-field" rows="3"></textarea>
                                    </div>
                                    
                                    <!-- Tabla de contenidos -->
                                    <div class="content-table-wrapper">
                                        <div id="emptyTableMessage" class="empty-table-message">
                                            ‚ö†Ô∏è Selecciona cap√≠tulos y secciones y a√±√°delos a la tabla
                                        </div>
                                        <table class="content-table" id="contentTable" style="display: none;">
                                            <thead>
                                                <tr>
                                                    <th>CAP√çTULO</th>
                                                    <th>CONTENIDO</th>
                                                    <th>SECCI√ìN</th>
                                                    <th class="col-acciones"></th>
                                                </tr>
                                            </thead>
                                            <tbody id="contentTableBody">
                                                <!-- Las filas se a√±adir√°n din√°micamente -->
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                    <!-- Configuraci√≥n de ejercicios -->
                                    <div class="ejercicios-config">
                                        <div class="ejercicios-row">
                                            <div class="ejercicios-field">
                                                <label for="num-ejercicios-select">N√öMERO DE EJERCICIOS</label>
                                                <select id="num-ejercicios-select" class="filter-select">
                                                    <option value="0">0 ejercicios</option>
                                                    <option value="1">1 ejercicio</option>
                                                    <option value="2">2 ejercicios</option>
                                                    <option value="3">3 ejercicios</option>
                                                    <option value="4">4 ejercicios</option>
                                                    <option value="5" selected>5 ejercicios</option>
                                                    <option value="6">6 ejercicios</option>
                                                    <option value="7">7 ejercicios</option>
                                                    <option value="8">8 ejercicios</option>
                                                    <option value="9">9 ejercicios</option>
                                                    <option value="10">10 ejercicios</option>
                                                </select>
                                            </div>
                                            
                                            <div class="ejercicios-field">
                                                <label>TRABAJO MONOGR√ÅFICO</label>
                                                <div class="toggle-container">
                                                    <input type="checkbox" id="monograficosSwitch" class="toggle-switch">
                                                    <label for="monograficosSwitch" class="toggle-slider"></label>
                                                    <span id="monograficosLabel" class="toggle-status">No</span>
                                                </div>
                                            </div>
                                            
                                            <button class="btn-generar-contenido" onclick="generarContenido()">
                                                ‚öôÔ∏è Generar contenido
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Bloque de Contenidos Generados -->
                            <div class="contenidos-generados-block">
                                <h3>Contenidos Generados</h3>
                                <p class="tab-description">Contenidos creados para tus estudiantes.</p>
                                
                                <div id="listaContenidosGenerados" class="lista-contenidos-generados">
                                    <!-- Ejemplo inicial -->
                                    <div class="document-item">
                                        <div class="document-icon">üìö</div>
                                        <div class="document-info">
                                            <div class="document-name">Animales vertebrados</div>
                                            <div class="document-meta">PDF ‚Ä¢ 2.5 MB</div>
                                        </div>
                                        <div class="document-actions">
                                            <button class="document-action-btn btn-view" onclick="abrirContenido('links/Animales vertebrados.html')">
                                                üëÅÔ∏è Visualizar
                                            </button>
                                            <button class="document-action-btn btn-delete" onclick="eliminarContenidoGenerado(this)">
                                                üóëÔ∏è Eliminar
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Tab 3: Seguimiento -->
                        <div class="tab-panel" id="teacherSeguimientoContent" style="display: none;">
                            <h3>Seguimiento de Alumnos</h3>
                            <p class="tab-description">Monitoriza el progreso y desempe√±o de tus estudiantes.</p>
                            
                            <div class="seguimiento-filters">
                                <div class="filter-group">
                                    <label for="filtro-curso">CURSO</label>
                                    <select id="filtro-curso" class="filter-select">
                                        <option value="1¬∫ ESO">1¬∫ ESO</option>
                                        <option value="2¬∫ ESO" selected>2¬∫ ESO</option>
                                        <option value="3¬∫ ESO">3¬∫ ESO</option>
                                        <option value="4¬∫ ESO">4¬∫ ESO</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label for="filtro-unidad">UNIDAD</label>
                                    <select id="filtro-unidad" class="filter-select">
                                        <option value="animales-vertebrados">Animales vertebrados</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="seguimiento-container">
                                <div class="seguimiento-table-wrapper">
                                    <table class="seguimiento-table">
                                        <thead>
                                            <tr class="header-main">
                                                <th rowspan="2" class="col-alumno">Alumno</th>
                                                <th colspan="2" class="col-group">Contenido</th>
                                                <th colspan="2" class="col-group">Ejercicios</th>
                                                <th rowspan="2" class="col-trabajos">Trabajos Monogr√°ficos</th>
                                                <th rowspan="2" class="col-score">Score</th>
                                            </tr>
                                            <tr class="header-sub">
                                                <th class="sub-col">Accesos</th>
                                                <th class="sub-col">Res√∫menes</th>
                                                <th class="sub-col">Entregas</th>
                                                <th class="sub-col">Ayudas</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="student-name">
                                                    <img src="images/foto_alumno.png" alt="Rafa" class="student-avatar">
                                                    Rafa Armero Fern√°ndez
                                                </td>
                                                <td class="stat-number">3</td>
                                                <td class="stat-number">3/3</td>
                                                <td class="stat-number">10/10</td>
                                                <td class="stat-number">5/10</td>
                                                <td class="stat-number">1/1</td>                                                <td class="stat-number score-value">82%</td>                                            </tr>
                                            <tr>
                                                <td class="student-name">
                                                    <img src="images/logo_ferrer.jpg" alt="Javier" class="student-avatar">
                                                    Javier Ingl√©s Bernat
                                                </td>
                                                <td class="stat-number">2</td>
                                                <td class="stat-number">1/3</td>
                                                <td class="stat-number">1/10</td>
                                                <td class="stat-number">0/10</td>
                                                <td class="stat-number">1/1</td>                                                <td class="stat-number score-value">53%</td>                                            </tr>
                                            <tr>
                                                <td class="student-name">
                                                    <img src="images/logo_ferrer.jpg" alt="Max" class="student-avatar">
                                                    Max Amat √Ålvarez
                                                </td>
                                                <td class="stat-number">3</td>
                                                <td class="stat-number">2/3</td>
                                                <td class="stat-number">8/10</td>
                                                <td class="stat-number">4/10</td>
                                                <td class="stat-number">1/1</td>
                                                <td class="stat-number score-value">85%</td>
                                            </tr>
                                            <tr>
                                                <td class="student-name">
                                                    <img src="images/logo_ferrer.jpg" alt="Sergio" class="student-avatar">
                                                    Sergio Cort√©s Abad
                                                </td>
                                                <td class="stat-number">0</td>
                                                <td class="stat-number">0/3</td>
                                                <td class="stat-number">0/10</td>
                                                <td class="stat-number">0/10</td>
                                                <td class="stat-number">0/1</td>
                                                <td class="stat-number score-value">0%</td>
                                            </tr>
                                            <tr>
                                                <td class="student-name">
                                                    <img src="images/logo_ferrer.jpg" alt="M√≤nica" class="student-avatar">
                                                    M√≤nica Zapata Lluch
                                                </td>
                                                <td class="stat-number">4</td>
                                                <td class="stat-number">3/3</td>
                                                <td class="stat-number">9/10</td>
                                                <td class="stat-number">6/10</td>
                                                <td class="stat-number">1/1</td>
                                                <td class="stat-number score-value">97%</td>
                                            </tr>
                                            <tr>
                                                <td class="student-name">
                                                    <img src="images/logo_ferrer.jpg" alt="S√≠lvia" class="student-avatar">
                                                    S√≠lvia Baqu√©s Mass√≥
                                                </td>
                                                <td class="stat-number">4</td>
                                                <td class="stat-number">1/3</td>
                                                <td class="stat-number">6/10</td>
                                                <td class="stat-number">7/10</td>
                                                <td class="stat-number">1/1</td>
                                                <td class="stat-number score-value">87%</td>
                                            </tr>
                                            <tr>
                                                <td class="student-name">
                                                    <img src="images/logo_ferrer.jpg" alt="Nick" class="student-avatar">
                                                    Nick Russell
                                                </td>
                                                <td class="stat-number">2</td>
                                                <td class="stat-number">2/3</td>
                                                <td class="stat-number">3/10</td>
                                                <td class="stat-number">1/10</td>
                                                <td class="stat-number">0/1</td>                                                <td class="stat-number score-value">18%</td>                                            </tr>
                                            <tr>
                                                <td class="student-name">
                                                    <img src="images/logo_ferrer.jpg" alt="Laia" class="student-avatar">
                                                    Laia Orriols Luis
                                                </td>
                                                <td class="stat-number">1</td>
                                                <td class="stat-number">1/3</td>
                                                <td class="stat-number">0/10</td>
                                                <td class="stat-number">0/10</td>
                                                <td class="stat-number">0/1</td>
                                                <td class="stat-number score-value">8%</td>
                                            </tr>
                                            <tr>
                                                <td class="student-name">
                                                    <img src="images/logo_ferrer.jpg" alt="Anna" class="student-avatar">
                                                    Anna Bodi Valera
                                                </td>
                                                <td class="stat-number">4</td>
                                                <td class="stat-number">3/3</td>
                                                <td class="stat-number">8/10</td>
                                                <td class="stat-number">5/10</td>
                                                <td class="stat-number">1/1</td>
                                                <td class="stat-number score-value">93%</td>
                                            </tr>
                                            <tr>
                                                <td class="student-name">
                                                    <img src="images/logo_ferrer.jpg" alt="Diego" class="student-avatar">
                                                    Diego Blanco Ayarza
                                                </td>
                                                <td class="stat-number">2</td>
                                                <td class="stat-number">0/3</td>
                                                <td class="stat-number">0/10</td>
                                                <td class="stat-number">1/10</td>
                                                <td class="stat-number">0/1</td>
                                                <td class="stat-number score-value">17%</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal para editar campos -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Editar Campo</h2>
                <span class="close" onclick="closeEditModal()">&times;</span>
            </div>
            <div class="modal-body">
                <label id="modalLabel" for="modalInput"></label>
                <input type="text" id="modalInput" class="modal-input">
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="closeEditModal()">Cancelar</button>
                <button class="btn-save" onclick="saveField()">Guardar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal para documentos de asignaturas -->
    <div id="documentsModal" class="modal">
        <div class="modal-content documents-modal-content">
            <div class="modal-header">
                <h2 id="documentsModalTitle">Documentos</h2>
                <span class="close" onclick="closeDocumentsModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div id="documentsList" class="documents-list"></div>
            </div>
        </div>
    </div>
    
    <!-- Modal para subir documentos para correcci√≥n -->
    <div id="correctionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Subir una correcci√≥n</h2>
                <span class="close" onclick="closeCorrectionModal()">&times;</span>
            </div>
            <div class="modal-body">
                <p class="correction-info">
                    Sube tu trabajo completado de <strong id="correctionMaterialName"></strong> para que sea corregido.
                </p>
                <div class="file-upload-area">
                    <label for="correctionFileInput" class="file-upload-label">
                        üìé Seleccionar archivo
                    </label>
                    <input type="file" id="correctionFileInput" class="file-upload-input" accept=".pdf,.doc,.docx,.jpg,.jpeg">
                    <p class="file-upload-hint">Formatos aceptados: PDF, DOC, DOCX, JPG (M√°x. 7MB)</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-save" onclick="uploadCorrection()">Subir documento</button>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
